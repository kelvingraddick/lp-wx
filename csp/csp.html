<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="user-scalable=0, width=device-width, initial-scale=1.0,  minimum-scale=1.0, maximum-scale=1.0">
    <meta
        http-equiv="Content-Security-Policy"
        content=
            "default-src 'self';
            frame-src 'self' https://*.lpsnmedia.net https://consent.trustarc.com https://*.idp.liveperson.net https://*.msg.liveperson.net https://*.msghist.liveperson.net https://*.msg-gw.liveperson.net;
            font-src 'self' https://1.www.s81c.com https://fonts.gstatic.com https://fonts.gstatic.com;
            img-src 'self' https://ondeck.console.test.cloud.ibm.com https://dev.console.test.cloud.ibm.com https://test.cloud.ibm.com https://cloud.ibm.com https://cache.globalcatalog.test.cloud.ibm.com https://cache.globalcatalog.cloud.ibm.com https://continuous-delivery-broker.us-south.devops.cloud.ibm.com https://us-south.apprapp.cloud.ibm.com https://broker.us-south.databases.cloud.ibm.com https://hp-vs.prod-us.cloud.zaas.ibm.com https://broker.vpnaas.cloud.ibm.com https://*.lpsnmedia.net https://data-shield-service-broker.mybluemix.net https://broker.dns-svcs.cloud.ibm.com https://us-south.event-notifications.cloud.ibm.com https://resource-catalog.stage1.bluemix.net https://globalcatalog.test.cloud.ibm.com https://consent.trustarc.com https://ibm.com https://us-south.event-notifications.cloud.ibm.com data: https://*.lpsnmedia.net https://*.cobrowse.liveperson.net;
            script-src 'self' https://ondeck.console.test.cloud.ibm.com https://dev.console.test.cloud.ibm.com https://test.cloud.ibm.com https://*.liveperson.net https://*.lpsnmedia.net https://*.v.liveperson.net https://cdn.segment.com https://cdn.walkme.com https://consent.trustarc.com https://consent.truste.com https://s.go-mpulse.net https://tags.tiqcdn.com 'nonce-2b69634d55702be15f661142f505b6e7' https://*.liveperson.net/ 'sha256-O7SHIlSOLBy9+bSNuf0b+4JgMJJlBfIbACOx636WBvg=' 'sha256-My/dW75F7rSUxTo7cqDqeFMMBwYz/br/R49NA1KTU18=';
            style-src 'self' https://*.liveperson.net https://*.lpsnmedia.net 'nonce-2b69634d55702be15f661142f505b6e7' https://fonts.googleapis.com;
            script-src-attr 'self' https://*.liveperson.net https://*.lpsnmedia.net;
            media-src 'self' https://*.lpsnmedia.net;
            connect-src 'self' https://17de4c18.akstat.io https://17de4c0d.akstat.io https://api.segment.io https://c.go-mpulse.net https://cdn.segment.com https://cdn.walkme.com https://ec.walkme.com https://papi.walkme.com wss://*.msg.liveperson.net https://*.liveperson.net https://debug-api.segment.com https://*.lpsnmedia.net;
            base-uri 'self';
            form-action 'self';
            frame-ancestors 'self';
            object-src 'none';
            upgrade-insecure-requests;"
    >
    <title>CSP Web Messaging</title>

    <link rel="icon" href="../img/favicon.ico">
    <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Oswald&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>


<div class="container spa-wrapper">
    <div class="row" >
        <div class="col-md-8" id="web-message-ex-top" >
            <div id="web-message-ex">The WebEX in SPA with CPS</div>
            <a href="../" id="back-link" title="Back to regular test page">
                Back
                <svg aria-hidden="true" fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M14.8284 12L16.2426 13.4142L19.071 10.5858C20.6331 9.02365 20.6331 6.49099 19.071 4.9289C17.509 3.3668 14.9763 3.3668 13.4142 4.9289L10.5858 7.75732L12 9.17154L14.8284 6.34311C15.6095 5.56206 16.8758 5.56206 17.6568 6.34311C18.4379 7.12416 18.4379 8.39049 17.6568 9.17154L14.8284 12Z" fill="currentColor"/><path d="M12 14.8285L13.4142 16.2427L10.5858 19.0711C9.02372 20.6332 6.49106 20.6332 4.92896 19.0711C3.36686 17.509 3.36686 14.9764 4.92896 13.4143L7.75739 10.5858L9.1716 12L6.34317 14.8285C5.56212 15.6095 5.56212 16.8758 6.34317 17.6569C7.12422 18.4379 8.39055 18.4379 9.1716 17.6569L12 14.8285Z" fill="currentColor"/><path d="M14.8285 10.5857C15.219 10.1952 15.219 9.56199 14.8285 9.17147C14.4379 8.78094 13.8048 8.78094 13.4142 9.17147L9.1716 13.4141C8.78107 13.8046 8.78107 14.4378 9.1716 14.8283C9.56212 15.2188 10.1953 15.2188 10.5858 14.8283L14.8285 10.5857Z" fill="currentColor"/></svg>
            </a>
        </div>
    </div>
    <div class="row" >
        <div class="col-md-4" id="info-form">
            <div id="lp-info">
                <div><img id="window-icon" title="Web Messaging" src="../img/group-8.png" alt="Web Messaging"/></div>
                <div><img id="window-preview" title="Web Messaging" src="../img/window-preview.png" alt="Web Messaging"/>
                </div>
                <div id="This-is-where-you-ar"> See how your messaging window will look on a SPA with CSP enabled and make sure you're happy with it!
                </div>
                <div><img id="powered-by" title="Powered By LivePerson" src="../img/group-10.png" alt="Web Messaging"/>
                </div>
            </div>
        </div>
        <div class="col-md-4" id="lp-form">
            <form id="lp_form">
                <div class="row">
                    <div class="col">
                        <div>
                            <b class="field-title">Select environment </b>
                            <br>
                            <select class="form-control" id="environment-select">
                                <option value="qa">QA</option>
                                <option value="alpha" selected>Alpha</option>
                                <option value="ga">GA</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <div>
                            <b class="field-title">Account </b>
                            <br>
                            <input class="form-control" id="lp_account" placeholder=" enter your account info">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col" >
                        <button class="btn-block" id="lp_btn_inject" type="button">INJECT LPTAG</button>
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        <div>
                            <b id="username">Username</b><br>
                            <input class="form-control" id="lp_username" placeholder=" enter your username">
                        </div>
                    </div>
                </div>
                <div class="row hidden" id="identity-check-area">
                    <div class="col">
                        <label
                                class="checkbox-label"
                                for="use-async-identity"
                                title="By checking this checkbox you change the behavior of auth identity function. It will return identity data with a 3 seconds delay. This simulates request to Brand's IDP"
                        >Use async identity</label>
                        <input
                                class="checkbox-field"
                                type="checkbox"
                                id="use-async-identity"
                                title="By checking this checkbox you change the behavior of auth identity function. It will return identity data with a 3 seconds delay. This simulates request to Brand's IDP"
                        >
                    </div>
                    <div class="col">
                        <label
                                class="checkbox-label"
                                for="use-secure-identity"
                                title="When this checked the auth flow will use tkn and redirect_uri fields instead of sub field in the identity"
                        >Use secure identity</label>
                        <input
                                class="checkbox-field"
                                type="checkbox"
                                id="use-secure-identity"
                                title="When this checked the auth flow will use tkn and redirect_uri fields instead of sub field in the identity"
                        >
                    </div>
                </div>
                <div class="row">
                    <div class="col" >
                        <button class="btn-block" id="lp_btn_login" type="submit">LOGIN</button>
                    </div>
                </div>
                <div class="row">
                    <div class="col" >
                        <div id="log-version"></div>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="row">
        <div class="col-md-8" id="bottom-divider"></div>
    </div>
    <div class="row">
        <div class="col-md-8" id="account_setup">
            <div class="row">
                <div class="col">
                </div>
            </div>
        </div>
        <div class="col-md-4">
        </div>
    </div>

</div>

<script src="../js/csp.js"></script>

</body>
</html>
